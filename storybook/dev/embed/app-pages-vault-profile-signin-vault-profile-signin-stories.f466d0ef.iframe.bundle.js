/*! For license information please see app-pages-vault-profile-signin-vault-profile-signin-stories.f466d0ef.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkfasten_connect_frontend_ngx=self.webpackChunkfasten_connect_frontend_ngx||[]).push([[15],{"./node_modules/@angular/common/fesm2022/http/testing.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Sj:()=>HttpClientTestingModule});var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js");class HttpTestingController{}class TestRequest{request;observer;get cancelled(){return this._cancelled}_cancelled=!1;constructor(request,observer){this.request=request,this.observer=observer}flush(body,opts={}){if(this.cancelled)throw new Error("Cannot flush a cancelled request.");const url=this.request.urlWithParams,headers=opts.headers instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.Lr?opts.headers:new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.Lr(opts.headers);body=function _maybeConvertBody(responseType,body){if(null===body)return null;switch(responseType){case"arraybuffer":return function _toArrayBufferBody(body){if("undefined"==typeof ArrayBuffer)throw new Error("ArrayBuffer responses are not supported on this platform.");if(body instanceof ArrayBuffer)return body;throw new Error("Automatic conversion to ArrayBuffer is not supported for response type.")}(body);case"blob":return function _toBlob(body){if("undefined"==typeof Blob)throw new Error("Blob responses are not supported on this platform.");if(body instanceof Blob)return body;if(ArrayBuffer&&body instanceof ArrayBuffer)return new Blob([body]);throw new Error("Automatic conversion to Blob is not supported for response type.")}(body);case"json":return _toJsonBody(body);case"text":return function _toTextBody(body){if("string"==typeof body)return body;if("undefined"!=typeof ArrayBuffer&&body instanceof ArrayBuffer)throw new Error("Automatic conversion to text is not supported for ArrayBuffers.");if("undefined"!=typeof Blob&&body instanceof Blob)throw new Error("Automatic conversion to text is not supported for Blobs.");return JSON.stringify(_toJsonBody(body,"text"))}(body);default:throw new Error(`Unsupported responseType: ${responseType}`)}}(this.request.responseType,body);let statusText=opts.statusText,status=void 0!==opts.status?opts.status:_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.kG.Ok;if(void 0===opts.status&&(null===body?(status=_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.kG.NoContent,statusText||="No Content"):statusText||="OK"),void 0===statusText)throw new Error("statusText is required when setting a custom status.");status>=200&&status<300?(this.observer.next(new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.cS({body,headers,status,statusText,url})),this.observer.complete()):this.observer.error(new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.yz({error:body,headers,status,statusText,url}))}error(error,opts={}){if(this.cancelled)throw new Error("Cannot return an error for a cancelled request.");if(opts.status&&opts.status>=200&&opts.status<300)throw new Error("error() called with a successful status.");const headers=opts.headers instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.Lr?opts.headers:new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.Lr(opts.headers);this.observer.error(new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.yz({error,headers,status:opts.status||0,statusText:opts.statusText||"",url:this.request.urlWithParams}))}event(event){if(this.cancelled)throw new Error("Cannot send events to a cancelled request.");this.observer.next(event)}}function _toJsonBody(body,format="JSON"){if("undefined"!=typeof ArrayBuffer&&body instanceof ArrayBuffer)throw new Error(`Automatic conversion to ${format} is not supported for ArrayBuffers.`);if("undefined"!=typeof Blob&&body instanceof Blob)throw new Error(`Automatic conversion to ${format} is not supported for Blobs.`);if("string"==typeof body||"number"==typeof body||"object"==typeof body||"boolean"==typeof body||Array.isArray(body))return body;throw new Error(`Automatic conversion to ${format} is not supported for response type.`)}class HttpClientTestingBackend{open=[];isTestingBackend=!0;handle(req){return new rxjs__WEBPACK_IMPORTED_MODULE_2__.c((observer=>{const testReq=new TestRequest(req,observer);return this.open.push(testReq),observer.next({type:_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.hv.Sent}),()=>{testReq._cancelled=!0}}))}_match(match){return"string"==typeof match?this.open.filter((testReq=>testReq.request.urlWithParams===match)):"function"==typeof match?this.open.filter((testReq=>match(testReq.request))):this.open.filter((testReq=>!(match.method&&testReq.request.method!==match.method.toUpperCase()||match.url&&testReq.request.urlWithParams!==match.url)))}match(match){const results=this._match(match);return results.forEach((result=>{const index=this.open.indexOf(result);-1!==index&&this.open.splice(index,1)})),results}expectOne(match,description){description||=this.descriptionFromMatcher(match);const matches=this.match(match);if(matches.length>1)throw new Error(`Expected one matching request for criteria "${description}", found ${matches.length} requests.`);if(0===matches.length){let message=`Expected one matching request for criteria "${description}", found none.`;if(this.open.length>0){message+=` Requests received are: ${this.open.map(describeRequest).join(", ")}.`}throw new Error(message)}return matches[0]}expectNone(match,description){description||=this.descriptionFromMatcher(match);const matches=this.match(match);if(matches.length>0)throw new Error(`Expected zero matching requests for criteria "${description}", found ${matches.length}.`)}verify(opts={}){let open=this.open;if(opts.ignoreCancelled&&(open=open.filter((testReq=>!testReq.cancelled))),open.length>0){const requests=open.map(describeRequest).join(", ");throw new Error(`Expected no open requests, found ${open.length}: ${requests}`)}}descriptionFromMatcher(matcher){if("string"==typeof matcher)return`Match URL: ${matcher}`;if("object"==typeof matcher){return`Match method: ${matcher.method||"(any)"}, URL: ${matcher.url||"(any)"}`}return`Match by function: ${matcher.name}`}static ɵfac=function HttpClientTestingBackend_Factory(__ngFactoryType__){return new(__ngFactoryType__||HttpClientTestingBackend)};static ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({token:HttpClientTestingBackend,factory:HttpClientTestingBackend.ɵfac})}function describeRequest(testRequest){const url=testRequest.request.urlWithParams;return`${testRequest.request.method} ${url}`}function provideHttpClientTesting(){return[HttpClientTestingBackend,{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.JV,useExisting:HttpClientTestingBackend},{provide:HttpTestingController,useExisting:HttpClientTestingBackend},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.iS,useValue:!1}]}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](HttpClientTestingBackend,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable}],null,null);class HttpClientTestingModule{static ɵfac=function HttpClientTestingModule_Factory(__ngFactoryType__){return new(__ngFactoryType__||HttpClientTestingModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({type:HttpClientTestingModule,imports:[_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.q1]});static ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({providers:[provideHttpClientTesting()],imports:[_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.q1]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](HttpClientTestingModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,args:[{imports:[_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.q1],providers:[provideHttpClientTesting()]}]}],null,null)},"./projects/fasten-connect-stitch-embed/src/app/pages/vault-profile-signin/vault-profile-signin.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultForm:()=>DefaultForm,LoadingWhileSubmitting:()=>LoadingWhileSubmitting,PasswordChangedMessage:()=>PasswordChangedMessage,StoragePermissionRequired:()=>StoragePermissionRequired,SubmissionError:()=>SubmissionError,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common_http_testing__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/common/fesm2022/http/testing.mjs"),_angular_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_vault_profile_signin_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./projects/fasten-connect-stitch-embed/src/app/pages/vault-profile-signin/vault-profile-signin.component.ts"),ngx_logger_testing__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ngx-logger/fesm2020/ngx-logger-testing.mjs"),_app_routes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./projects/fasten-connect-stitch-embed/src/app/app.routes.ts"),_shared_library__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./projects/shared-library/src/public-api.ts"),_services_auth_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./projects/fasten-connect-stitch-embed/src/app/services/auth.service.ts"),_services_fasten_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./projects/fasten-connect-stitch-embed/src/app/services/fasten.service.ts");const createSigninConfigService=(overrides={})=>{const systemConfig={publicId:"public_vault_signin",apiMode:_shared_library__WEBPACK_IMPORTED_MODULE_9__.wx.Test,org:{name:"Acme Health",logo_uri:"https://fasten-connect-prod-public.s3.amazonaws.com/logos/logo.6349256d-db67-4a4e-b72b-0f82bbc12f59.4209486365.png",privacy_policy_uri:"https://acme.example.com/privacy"},...overrides};return{systemConfigSubject:new rxjs__WEBPACK_IMPORTED_MODULE_4__.t(systemConfig),systemConfig$:systemConfig}},createVaultProfile=email=>Object.assign(new _shared_library__WEBPACK_IMPORTED_MODULE_9__.k5,{email}),__WEBPACK_DEFAULT_EXPORT__={title:"TEFCAMode/VaultProfileSignin",component:_vault_profile_signin_component__WEBPACK_IMPORTED_MODULE_6__.h,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.L4)({providers:[(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.importProvidersFrom)(_angular_common_http_testing__WEBPACK_IMPORTED_MODULE_2__.Sj,ngx_logger_testing__WEBPACK_IMPORTED_MODULE_7__.D0),(0,_angular_router__WEBPACK_IMPORTED_MODULE_3__.lh)(_app_routes__WEBPACK_IMPORTED_MODULE_8__.J),{provide:_services_auth_service__WEBPACK_IMPORTED_MODULE_10__.u,useClass:class MockAuthService{constructor(){this.Signout=()=>Promise.resolve(!0),this.VaultAuthBegin=()=>Promise.resolve({}),this.GetJWTPayload=()=>Promise.resolve(null)}}},{provide:_services_fasten_service__WEBPACK_IMPORTED_MODULE_11__.B,useClass:class MockFastenService{constructor(){this.storageApiUserInteractionWithPopup=()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)({success:!0})}}}]})],tags:["autodocs"]},DefaultForm={args:{existingVaultProfile:createVaultProfile("patient@example.com"),configService:createSigninConfigService()}},StoragePermissionRequired={args:{configService:createSigninConfigService({org:{name:"Safari Medical Group",privacy_policy_uri:"https://safari.example.com/privacy"}}),needStorageAccessPermissionSubject:new rxjs__WEBPACK_IMPORTED_MODULE_4__.t(!0),userInteractionCompletedSubject:new rxjs__WEBPACK_IMPORTED_MODULE_4__.t(!1),existingVaultProfile:createVaultProfile("safari.user@example.com")}},SubmissionError={args:{existingVaultProfile:createVaultProfile("patient@example.com"),errorMsg:"Email or password is incorrect.",configService:createSigninConfigService()}},LoadingWhileSubmitting={args:{existingVaultProfile:createVaultProfile("patient@example.com"),loading:!0,configService:createSigninConfigService()}},PasswordChangedMessage={args:{existingVaultProfile:createVaultProfile("patient@example.com"),showMessage:!0,message:"Password successfully changed! Please sign in with your new password.",configService:createSigninConfigService()}},__namedExportsOrder=["DefaultForm","StoragePermissionRequired","SubmissionError","LoadingWhileSubmitting","PasswordChangedMessage"];DefaultForm.parameters={...DefaultForm.parameters,docs:{...DefaultForm.parameters?.docs,source:{originalSource:"{\n  args: {\n    existingVaultProfile: createVaultProfile('patient@example.com'),\n    configService: createSigninConfigService()\n  }\n}",...DefaultForm.parameters?.docs?.source}}},StoragePermissionRequired.parameters={...StoragePermissionRequired.parameters,docs:{...StoragePermissionRequired.parameters?.docs,source:{originalSource:"{\n  args: {\n    configService: createSigninConfigService({\n      org: {\n        name: 'Safari Medical Group',\n        privacy_policy_uri: 'https://safari.example.com/privacy'\n      } as Organization\n    }),\n    needStorageAccessPermissionSubject: new BehaviorSubject<boolean>(true),\n    userInteractionCompletedSubject: new BehaviorSubject<boolean>(false),\n    existingVaultProfile: createVaultProfile('safari.user@example.com')\n  }\n}",...StoragePermissionRequired.parameters?.docs?.source}}},SubmissionError.parameters={...SubmissionError.parameters,docs:{...SubmissionError.parameters?.docs,source:{originalSource:"{\n  args: {\n    existingVaultProfile: createVaultProfile('patient@example.com'),\n    errorMsg: 'Email or password is incorrect.',\n    configService: createSigninConfigService()\n  }\n}",...SubmissionError.parameters?.docs?.source}}},LoadingWhileSubmitting.parameters={...LoadingWhileSubmitting.parameters,docs:{...LoadingWhileSubmitting.parameters?.docs,source:{originalSource:"{\n  args: {\n    existingVaultProfile: createVaultProfile('patient@example.com'),\n    loading: true,\n    configService: createSigninConfigService()\n  }\n}",...LoadingWhileSubmitting.parameters?.docs?.source}}},PasswordChangedMessage.parameters={...PasswordChangedMessage.parameters,docs:{...PasswordChangedMessage.parameters?.docs,source:{originalSource:"{\n  args: {\n    existingVaultProfile: createVaultProfile('patient@example.com'),\n    showMessage: true,\n    message: 'Password successfully changed! Please sign in with your new password.',\n    configService: createSigninConfigService()\n  }\n}",...PasswordChangedMessage.parameters?.docs?.source}}}}}]);